import hashlib, sqlite3

def hash(word):
    myHashObject = hashlib.sha256()
    w = word.encode('utf-8')
    myHashObject.update(w)
    return myHashObject.hexdigest()
       #returns hex string


def authenticate(username,password):
    f = "/data/story.db"
    db = sqlite3.connect(f)
    c = db.cursor()
    q = "SELECT username,password FROM users WHERE username = %s" % (username)
    a = c.execute(q)
    if (len(a) == 0):
        return 0 #NOT FOUND
    
    #change to db
    #store = csv.reader(open("data/users.csv",'r'))
    #for row in store:
    #    if row and username == row[0]:
    #        if hash(password) == row[1]:
    
                return True
            else:
                return False
    return False


